# 프로젝트분석 시나리오

## 시나리오 개요
중소기업 대표 박철수는 거래처로부터 계약 위반에 따른 손해배상청구소송을 당했습니다. 변호사 임지혜는 이 사건의 변호를 맡게 되었고, LegalEditor의 프로젝트분석 기능을 활용하여 체계적인 변호 전략을 수립하고자 합니다.

## 용어 정의

### 목표(Goal)
법률 업무에서 목표는 다음 중 하나를 의미합니다:
1. 상대방으로부터 금전, 부동산 인도, 물건 명도, 권리 이전 등 구체적인 것을 얻어내는 것
2. 상대방의 금전, 인도, 권리 이전 등 소송상의, 소송외의 청구에 대해 방어하는 것
3. 상대방과 협상하여 유리한 조건의 계약/합의 체결을 달성하는 것
4. 법원/검찰/경찰/행정청/과세당국/중재원 등 법적판단기관으로부터 유리한 결정을 받는 것
5. 예상치 못한 과다한 조세 부과를 당하거나, 세무조사를 당하는 것을 예방하는 것
6. 장래에 불특정인으로부터 소송, 고소, 청구, 언론폭로 등을 당하거나, 수사기관/행정청/과세당국 등으로부터 조사를 당할 리스크를 예방하는 것

여기서 상대방은 민사인 경우 개인 또는 법인, 형사인 경우 수사기관(검찰, 경찰), 조세인 경우 과세관청, 행정처분/행정조사인 경우 행정청, 금융조사인 경우 금융감독원, 공정거래조사/처분인 경우 공정거래위원회 등임.

목표는 서로 중복되면 안 되며, 다른 목표들과 목적/수단 관계에 있어서도 안 됩니다. 목표는 궁극적으로 이루고자 하는 최종 결과물입니다.

### 주장(Claim)
주장은 목표를 달성하기 위한 구체적인 법적 논점이나 입장입니다. 각 주장은 하나 이상의 목표를 지원하며, 증거자료에 의해 뒷받침되어야 합니다. 예를 들어, 손해배상금을 받는 것이 목표라면, "상대방의 계약 위반으로 손해가 발생했다"와 같은 내용이 주장이 됩니다.

### 요약 사실관계
증거자료들로부터 추출되는 개별 사실관계들을 포괄하는 요약 내용으로, 30단어 내외로 정리됩니다. 가치중립적이며 특정 관점이 포함되지 않아야 합니다.

### 개별 사실관계
증거자료에서 확인된 구체적인 사실들로, 여러 개의 개별 사실관계가 하나의 요약 사실관계를 지원할 수 있으며, 또한 하나의 개별 사실관계가 여러 요약 사실관계를 지원할 수도 있습니다(N:N 관계).

## 사용자 여정

### 1. 프로젝트 생성 및 초기 자료 업로드 [PASS]
- 임지혜 변호사는 "ABC상사 대 박철수 손해배상청구소송" 프로젝트를 생성합니다.
- '증거자료' 탭에서 의뢰인으로부터 받은 계약서, 거래 내역, 이메일 교환 기록 등을 업로드합니다.
- 국가법령정보센터 API를 통해 상법, 민법 중 관련 법령을 검색하여 저장합니다.
- 유사 판례 몇 건을 PDF로 다운로드하여 증거자료에 추가합니다.

### 2. 프로젝트분석 페이지 접근 [TODO]
- 기본 자료 정리가 완료된 후, 상단 메뉴에서 '프로젝트분석' 탭을 클릭합니다.
- 프로젝트분석 페이지에는 '우리측 입장 분석', '상대방측 입장 분석', '중립적 분석' 세 개의 서브탭이 나타납니다.
- 처음 접속 시 프로젝트분석 기능에 대한 간략한 가이드가 팝업으로 표시됩니다.

### 3. 우리측 입장 분석 서브탭 활용 [TODO]
- 기본적으로 '우리측 입장 분석' 서브탭이 활성화되어 있습니다.
- 통합 입력 필드에 "손해배상 청구액의 50% 이하로 판결 받기"라고 입력합니다.
- AI가 실시간으로 분석하여 "이 내용은 '목표'로 판단됩니다"라는 메시지와 함께 목표로 추가하도록 제안합니다.
- 제안을 수락하고 목표의 중요도를 '매우 높음'으로 설정합니다.
- 다시 통합 입력 필드에 "소송 종결 후 거래 관계 회복을 위한 신규 계약 체결"을 입력합니다.
- AI가 이 내용도 목표로 판단하고, 중요도 설정을 유도합니다. 임지혜는 중요도를 '중간'으로 설정합니다.
- AI가 목표 간 중복이나 목적/수단 관계가 없는지 자동으로 검사하고 문제가 없음을 확인합니다.

### 4. 우리측 주장 입력 [TODO]
- 통합 입력 필드에 "계약 제5조의 납기 지연에 상대방의 사전 승인이 있었음"이라고 입력합니다.
- AI가 분석하여 "이 내용은 '주장'으로 판단됩니다"라고 표시하며, 어떤 목표를 지원하는지 선택하도록 안내합니다.
- "손해배상 청구액의 50% 이하로 판결 받기" 목표와 연결하고 중요도를 '매우 높음'으로 설정합니다.
- 다음 주장들도 차례로 입력합니다:
  - "계약서 상의 손해배상 산정 방식이 불명확함"
  - "원고가 주장하는 손해액이 과대계상됨"
  - "납기 지연의 일부 원인은 원고 측의 사전 요구사항 변경에 있음"
- 각 주장에 대해 AI가 분석하여 기존 주장과의 관계(중복, 모순 등)를 검사하고 피드백을 제공합니다.

### 5. 목표-주장 트리 시각화 및 근거 연결 [TODO]
- 입력된 목표와 주장이 트리 구조로 시각화됩니다.
- "납기 지연 승인" 주장을 선택하고 '근거자료 연결' 버튼을 클릭합니다.
- 모달 창이 열리고 업로드된 증거자료 검색 및 미리보기 기능이 제공됩니다.
- 관련된 이메일 교환 내역 3건을 검색하여 미리보기로 확인한 후 선택하고, 각 자료의 관련성 강도를 설정합니다.
- 모달에서 '확인' 버튼을 클릭하여 선택한 증거자료를 주장에 연결합니다.
- 트리 뷰에서 이 주장과 연결된 근거자료가 시각적으로 표시되고, 연결 강도에 따라 연결선의 굵기가 조정됩니다.
- "손해액 과대계상" 주장에는 아직 충분한 근거가 연결되지 않아 '근거 부족' 표시가 나타납니다.
- AI가 기존 증거자료를 분석하여 주장 노드 옆에 ⚡ 아이콘과 함께 증거자료 추천 알림을 표시합니다.
- 임지혜는 추천 알림을 클릭하면 "거래 내역 명세서 페이지 5-7"이 이미 선택된 상태로 증거자료 연결 모달이 열립니다.
- 또한, 임지혜는 왼쪽 사이드바의 파일 탐색기에서 발견한 추가 증거자료를 "계약서 상의 손해배상 산정 방식이 불명확함" 주장으로 드래그합니다.
- 드래그한 파일이 주장과 관련성이 있는지 분석하는 모달이 표시됩니다.
- 모달에는 "이 증거자료는 주장과 82% 일치합니다. 계약서 3페이지의 '손해배상 산정 조항'이 주장을 뒷받침합니다." 라는 정보가 표시됩니다.
- 임지혜는 '확인' 버튼을 클릭하여 드래그한 파일을 주장의 근거자료로 연결합니다.

### 6. AI 목표-주장 분석 및 피드백 [TODO]
- '목표-주장 정합성 분석' 버튼을 클릭합니다.
- AI가 설정된 목표와 주장의 논리적 구조를 분석하고 다음과 같은 피드백을 제공합니다:
  - "납기 지연 승인 주장은 이메일 증거가 불충분함"
  - "손해배상 산정 방식 불명확성 주장은 판례 지지 가능성 높음"
  - "목표 '거래 관계 회복'을 지원하는 주장이 부족함"
- AI가 추가 주장으로 "불가항력적 시장 상황 변화로 인한 이행 지연"을 제안합니다.
- 임지혜는 이 제안을 수락하고, 주장 목록에 추가합니다.

### 7. 상대방측 입장 분석 서브탭 활용 [TODO]
- 상단 탭에서 '상대방측 입장 분석'을 클릭하여 해당 서브탭으로 이동합니다.
- 통합 입력 필드에 "계약 위반에 대한 완전한 손해배상금 획득"을 입력합니다.
- AI가 이를 상대방 목표로 분석하고 추가하도록 제안합니다.
- 다음으로 상대방 주장을 입력합니다:
  - "피고의 명백한 계약 위반"
  - "납기 지연으로 인한 영업 손실 발생"
- 각 주장에 예상되는 증거자료를 연결합니다.
- AI가 상대방의 예상 주장과 그에 대한 대응 전략을 자동으로 분석합니다.
- 상대방의 "영업 손실 발생" 주장에 대해, AI는 "손해액 산정의 타당성 공격"을 대응 전략으로 제안합니다.
- 임지혜는 제안된 대응 전략을 기반으로 우리측 입장 분석 탭에 돌아가 주장을 추가로 보완합니다.

### 8. 중립적 분석 서브탭 활용 [TODO]
- 상단 탭에서 '중립적 분석'을 클릭하여 해당 서브탭으로 이동합니다.
- 통합 사실관계 입력 필드에 "계약서는 2022년 3월 15일에 체결되었으며, 납품 기한은 2022년 6월 30일로 명시됨"을 입력합니다.
- AI가 입력 내용을 분석하여 "이 내용은 '요약 사실관계'로 판단되며, 가치중립적입니다."라고 메시지를 표시합니다.
- 임지혜는 '요약 사실관계로 추가' 버튼을 클릭하여 추가합니다.
- 다시 통합 입력 필드에 "인수증에 2022년 8월 10일자로 원고 측 담당자 김OO의 서명이 있음"을 입력합니다.
- AI가 분석하여 "이 내용은 '개별 사실관계'로 판단됩니다. 어떤 요약 사실관계와 연결하시겠습니까?"라고 제안합니다.
- AI는 관련된 요약 사실관계 "납품은 2022년 8월 10일에 완료됨"을 자동으로 생성하고 연결할 것을 제안합니다.
- 임지혜는 제안을 수락하여 새로운 요약 사실관계와 개별 사실관계를 동시에 추가합니다.
- 이어서 "원고는 2022년 5월 20일에 제품 사양 변경을 이메일로 요청함"을 입력합니다.
- AI가 이 내용을 분석하여 요약 사실관계로 판단하고 추가합니다.
- 임지혜는 "최종 납품 보고서는 2022년 8월 11일에 이메일로 발송됨"을 입력합니다.
- AI가 이 내용을 개별 사실관계로 분류하고, 기존 요약 사실관계 "납품은 2022년 8월 10일에 완료됨"과 연결할 것을 제안합니다.
- 시스템이 각 사실관계와 연결된 증거의 강도를 자동으로 평가하여 표시합니다.
- 임지혜가 "원고는 납기 연장을 승인하지 않았다"라고 입력하자, AI는 "이 표현은 '가치판단'을 포함하고 있습니다. 중립적 표현인 '원고의 명시적 납기 연장 승인 문서는 발견되지 않음'으로 바꾸시겠습니까?"라고 제안합니다.
- 임지혜는 제안된 중립적 표현으로 변경하여 개별 사실관계로 추가합니다.

### 9. 사실관계와 주장의 연계 분석 [TODO]
- 중립적 분석에서 확인된 사실관계가 우리측 및 상대방측 주장과 어떻게 연결되는지 분석합니다.
- '사실-주장 연결 분석' 버튼을 클릭합니다.
- 시스템이 중립적 분석의 사실관계와 양측 주장 간의 관계를 시각화하여 보여줍니다.
- 우리측에 유리한 사실과 불리한 사실이 색상으로 구분되어 표시됩니다.
- 사실관계 중 아직 증거가 부족한 항목에 대해 '증거 보강 필요' 알림이 표시됩니다.
- AI가 추가로 확보해야 할 증거자료 유형을 제안합니다.

### 10. 전략 수립 및 문서 작성 [TODO]
- 세 가지 서브탭의 분석 결과를 종합하여 '전략 요약' 보고서를 생성합니다.
- 요약 보고서에는 우리측 목표와 주장, 상대방 예상 목표와 주장, 중립적 사실관계 및 증거 현황이 포함됩니다.
- 주장별 근거 강도를 시각화한 그래프와 전략적 우선순위가 표시됩니다.
- 임지혜는 이 분석을 기반으로 답변서 작성을 시작합니다.
- 문서 에디터에서 '프로젝트분석 참조' 기능을 사용하여 작성 중 언제든지 분석 내용을 참조할 수 있습니다.
- 필요에 따라 세 가지 서브탭 간을 전환하며 정보를 확인하고 전략을 보완합니다.

### 11. 분석 업데이트 및 전략 조정 [TODO]
- 소송 진행 중 새로운 증거가 발견되어 프로젝트에 추가됩니다.
- 임지혜는 프로젝트분석 페이지로 돌아가 '분석 업데이트' 버튼을 클릭합니다.
- AI는 새로운 증거를 포함하여 세 가지 서브탭의 내용을 모두 업데이트합니다.
- 새로운 사실관계가 확인되고, 일부 주장의 근거 강도가 변경됩니다.
- 임지혜는 업데이트된 분석을 검토하고, 변론 전략을 조정합니다.
- '전략 변경 이력' 기능을 통해 분석의 변화 과정을 추적하고, 필요시 이전 버전의 전략을 참조할 수 있습니다.

## 시나리오 평가
본 시나리오는 법률 프로젝트 분석을 위한 복잡한 AI 기반 기능을 포함하고 있으며, 현재 대부분의 기능이 미구현 상태입니다.

1. **프로젝트 생성 및 초기 자료 업로드 [PASS]**
   - 기본적인 프로젝트 생성 및 파일 업로드 기능은 구현되어 있습니다.
   - 국가법령정보센터 API 연동 기능이 추가 구현 필요할 수 있습니다.

2. **프로젝트분석 페이지 접근 [TODO]**
   - 프로젝트분석 탭 및 서브탭 UI 구조가 구현되지 않았습니다.
   - 필요 개발: 프로젝트분석 UI 프레임워크, 서브탭 구조, 가이드 팝업

3. **우리측 입장 분석 서브탭 활용 [TODO]**
   - 목표 입력 및 AI 분석 기능이 구현되지 않았습니다.
   - 목표 중요도 설정, 목표 간 관계 검증 등의 로직이 필요합니다.
   - 필요 API: 텍스트 분류 API(목표/주장 구분), 목표 관리 API, 중요도 설정 API

4. **우리측 주장 입력 [TODO]**
   - 주장 입력 및 목표 연결 기능이 구현되지 않았습니다.
   - 주장 간 관계 분석 로직이 필요합니다.
   - 필요 API: 주장 관리 API, 주장-목표 연결 API, 주장 간 관계 분석 API

5. **목표-주장 트리 시각화 및 근거 연결 [TODO]**
   - 트리 구조 시각화, 근거자료 연결, 드래그 앤 드롭 기능이 구현되지 않았습니다.
   - 증거자료 관련성 분석, 미리보기 기능이 필요합니다.
   - 필요 개발: 트리 시각화 컴포넌트, 관련성 분석 엔진, 근거 연결 UI

6. **AI 목표-주장 분석 및 피드백 [TODO]**
   - 목표-주장 정합성 분석, 피드백 제공, 주장 제안 기능이 구현되지 않았습니다.
   - 고급 AI 추론 로직이 필요합니다.
   - 필요 API: 논리 구조 분석 API, 주장 추천 API

7. **상대방측 입장 분석 서브탭 활용 [TODO]**
   - 상대방 목표 및 주장 관리, 대응 전략 분석 기능이 구현되지 않았습니다.
   - 필요 API: 상대방 입장 관리 API, 대응 전략 생성 API

8. **중립적 분석 서브탭 활용 [TODO]**
   - 요약/개별 사실관계 관리, 가치중립성 검증, N:N 관계 관리 기능이 구현되지 않았습니다.
   - 필요 API: 사실관계 관리 API, 가치중립성 검증 API, 사실관계 연결 API

9. **사실관계와 주장의 연계 분석 [TODO]**
   - 사실-주장 연결 분석, 시각화, 증거 보강 알림 기능이 구현되지 않았습니다.
   - 필요 개발: 연계 분석 엔진, 시각화 컴포넌트, 증거 분석 알고리즘

10. **전략 수립 및 문서 작성 [TODO]**
    - 전략 요약 보고서 생성, 문서 에디터 연동 기능이 구현되지 않았습니다.
    - 필요 개발: 보고서 생성 엔진, 에디터 연동 인터페이스

11. **분석 업데이트 및 전략 조정 [TODO]**
    - 새 증거 기반 분석 업데이트, 변경 이력 추적 기능이 구현되지 않았습니다.
    - 필요 개발: 증분 업데이트 엔진, 변경 이력 관리 시스템

전반적으로 본 시나리오는 매우 복잡한 AI 기반 법률 분석 시스템을 요구하고 있으며, 현재는 기본적인 프로젝트 생성 및 파일 업로드 기능만 구현되어 있습니다. 나머지 핵심 기능들은 아직 구현되지 않았으며, 특히 목표-주장-사실관계-증거자료 간의 복잡한 관계 관리와 AI 기반 분석 기능이 필요합니다. 각 부분에 대한 프론트엔드 UI 컴포넌트와 백엔드 API가 설계 및 개발되어야 하며, 고급 NLP 및 추론 기능이 통합되어야 합니다. 